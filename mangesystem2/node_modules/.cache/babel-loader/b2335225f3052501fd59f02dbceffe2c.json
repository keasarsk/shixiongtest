{"remainingRequest":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/babel-loader/lib/index.js!/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/uav/uavmap/missionStart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/uav/uavmap/missionStart.vue","mtime":1677655434007},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/babel.config.js","mtime":1677655433976},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvVXNlcnMva2Flc2FyL0RvY3VtZW50cy9cdTVCOUVcdTlBOENcdTVCQTRcdTc2RjhcdTUxNzMvXHU1RTA4XHU1MTQ0XHU2QkQ1XHU4QkJFXHU5ODc5XHU3NkVFXHU1MjREXHU1NDBFXHU3QUVGL21hbmdlc3lzdGVtL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9Vc2Vycy9rYWVzYXIvRG9jdW1lbnRzL1x1NUI5RVx1OUE4Q1x1NUJBNFx1NzZGOFx1NTE3My9cdTVFMDhcdTUxNDRcdTZCRDVcdThCQkVcdTk4NzlcdTc2RUVcdTUyNERcdTU0MEVcdTdBRUYvbWFuZ2VzeXN0ZW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMi5qcyIpKTsKdmFyIF92dWV4ID0gcmVxdWlyZSgidnVleCIpOwp2YXIgX2xlYWZsZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxlYWZsZXQiKSk7CnJlcXVpcmUoIkAvcGx1Z2lucy9BbmltYXRlZE1hcmtlciIpOwovLwovLwovLwovLwovLwovLwovLwoKLy8g5a+85YWlbWFya2Vy5Yqo55S75o+S5Lu2CgovLyBpbXBvcnQgJ2xlYWZsZXQuYW5pbWF0ZWRtYXJrZXIvc3JjL0FuaW1hdGVkTWFya2VyJwp2YXIgVWF2SWNvbiA9IF9sZWFmbGV0LmRlZmF1bHQuSWNvbi5leHRlbmQoewogIG9wdGlvbnM6IHsKICAgIGljb25TaXplOiBbNDgsIDQ4XSwKICAgIHNoYWRvd1NpemU6IFswLCAwXSwKICAgIGljb25BbmNob3I6IFsyNCwgMjRdCiAgfQp9KTsKdmFyIHVhdkljb24gPSBuZXcgVWF2SWNvbih7CiAgaWNvblVybDogJy9sZWFmbGV0L3VhdjQ4LnN2ZycKfSk7Ci8vIGxldCBuZXdMYXRsbmdzID0gW3JvdXRlTGluZS5nZXRMYXRMbmdzKClbMF1dCi8vIGxldCB1YXZtYXI9bnVsbAp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogIm1pc3Npb25TdGFydCIsCiAgcHJvcHM6IFsibGluZUluZm8iLCAibWFwIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWFqOWxgOWcsOWbvgogICAgICBtYXBMZWFmOiBudWxsLAogICAgICAvLyDmtYvor5XmlbDmja4KICAgICAgZGF0YTogbnVsbCwKICAgICAgYW5pbWF0ZTogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCAoMCwgX3Z1ZXgubWFwU3RhdGUpKFsnbGVhZmxldE1hcCcsICd1YXZQbGFubmluZ1JvdXRlcycsICdsZWFmbGV0TGluZSddKSksCiAgbWV0aG9kczogewogICAgYW5pbWF0ZTI6IGZ1bmN0aW9uIGFuaW1hdGUyKCkgewogICAgICB2YXIgbWFwTGVhZiA9IHRoaXMubGVhZmxldE1hcDsKICAgICAgY29uc29sZS5sb2codGhpcy51YXZQbGFubmluZ1JvdXRlcy5vcmlnaW5MaW5lKTsKICAgICAgdmFyIHVhdjAgPSB0aGlzLnVhdlBsYW5uaW5nUm91dGVzLm9yaWdpbkxpbmVbMF07CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdWF2MC5sZW5ndGg7IGkrKykgewogICAgICAgIGRlbGV0ZSB1YXYwW2ldLmlkOwogICAgICB9CiAgICAgIHRoaXMuZGF0YSA9IHVhdjBbMF07CiAgICAgIGNvbnNvbGUubG9nKHVhdjApOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmxlYWZsZXRMaW5lLmdldExhdExuZ3MoKSkKICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMudWF2UGxhbm5pbmdSb3V0ZXMub3JpZ2luTGluZS5sZW5ndGg7IF9pKyspIHsKICAgICAgICB0aGlzLmFuaW1hdGVbX2ldID0gX2xlYWZsZXQuZGVmYXVsdC5hbmltYXRlZE1hcmtlcih0aGlzLnVhdlBsYW5uaW5nUm91dGVzLm9yaWdpbkxpbmVbX2ldLCB7CiAgICAgICAgICBpY29uOiB1YXZJY29uLAogICAgICAgICAgaW50ZXJ2YWw6IDMwMDAsCiAgICAgICAgICB6SW5kZXhPZmZzZXQ6IDEKICAgICAgICB9KS5hZGRUbyhtYXBMZWFmKTsKICAgICAgICBjb25zb2xlLmxvZyhfaSk7CiAgICAgICAgdmFyIHN0cmluZyA9ICLml6DkurrmnLogIiArIF9pICsgIiDnmoTot6/nur8iOwogICAgICAgIHRoaXMuYW5pbWF0ZVtfaV0uYmluZFRvb2x0aXAoc3RyaW5nKS5vcGVuVG9vbHRpcCgpOwogICAgICB9CiAgICAgIC8vIHRoaXMuYW5pbWF0ZT1MLmFuaW1hdGVkTWFya2VyKHVhdjAse2ljb246dWF2SWNvbixpbnRlcnZhbDozMDAwfSkuYWRkVG8obWFwTGVhZikKICAgIH0sCiAgICBhbmltYXRlVHJhajogZnVuY3Rpb24gYW5pbWF0ZVRyYWooKSB7CiAgICAgIHRoaXMuJGVtaXQoImFuaW1hdGVNYXJrZXJzIik7CiAgICAgIC8vIGxldCBtYXJrZXIgPSBuZXcgQXJyYXkodGhpcy5saW5lSW5mby5wYXRobGluZS5sZW5ndGgpCiAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5lSW5mby5wYXRobGluZS5sZW5ndGg7IGkrKykgewogICAgICAvLyAgICAgLy8gbGV0IGZseWluZ1NwZWVkID0gW107CiAgICAgIC8vICAgICBsZXQgZmx5aW5nU3BlZWQgPSBuZXcgQXJyYXkodGhpcy5saW5lSW5mby5wYXRobGluZVtpXS5sZW5ndGgpCiAgICAgIC8vICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGluZUluZm8ucGF0aGxpbmVbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgLy8gICAgICAgICBmbHlpbmdTcGVlZFtqXSA9IDEwMDA7CiAgICAgIC8vICAgICB9CiAgICAgIC8vICAgICBtYXJrZXJbaV0gPSBMLk1hcmtlci5tb3ZpbmdNYXJrZXIodGhpcy5saW5lSW5mby5wYXRobGluZVtpXSwgZmx5aW5nU3BlZWQpLmFkZFRvKHRoaXMubWFwKTsKICAgICAgLy8gICAgIG1hcmtlcltpXS5iaW5kUG9wdXAoIuaXoOS6uuacujxiPiIgKyBpICsgIjwvYj7nmoTot6/nur8iKS5vcGVuUG9wdXAoKQogICAgICAvLyB9CiAgICAgIC8vIGZvciAobGV0IHVhdkluZGV4ID0gMDsgdWF2SW5kZXggPCBtYXJrZXIubGVuZ3RoOyB1YXZJbmRleCsrKSB7CiAgICAgIC8vICAgICBtYXJrZXJbdWF2SW5kZXhdLnN0YXJ0KCkKICAgICAgLy8gfQogICAgfSwKICAgIHBvc2l0aW9uczogZnVuY3Rpb24gcG9zaXRpb25zKCkge30KICB9CiAgLy8gdXBkYXRlUmVhbExpbmUobGF0bG5nKXsKICAvLyAgIC8vIG5ld0xhdGxuZ3MucHVzaChsYXRsbmcpCiAgLy8gICAvLyByZWFsUm91dGVMaW5lLnNldExhdExuZ3MobmV3TGF0bG5ncykKICAvLyB9LAogIC8vICDmlLnlj5jmlrnlkJEKICAvLyB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"names":["_vuex","require","_leaflet","_interopRequireDefault","UavIcon","L","Icon","extend","options","iconSize","shadowSize","iconAnchor","uavIcon","iconUrl","_default","name","props","data","mapLeaf","animate","computed","_objectSpread2","default","mapState","methods","animate2","leafletMap","console","log","uavPlanningRoutes","originLine","uav0","i","length","id","animatedMarker","icon","interval","zIndexOffset","addTo","string","bindTooltip","openTooltip","animateTraj","$emit","positions","exports"],"sources":["src/views/uav/uavmap/missionStart.vue"],"sourcesContent":["<template>\n<div id=\"mission-group\">\n    <el-button type=\"success\" @click=\"animateTraj\">路线演示</el-button>\n    <el-button type=\"primary\" @click=\"positions\">+</el-button>\n</div>\n</template>\n\n<script>\nimport {\n    mapState\n} from \"vuex\";\nimport L from 'leaflet'\n// 导入marker动画插件\nimport \"@/plugins/AnimatedMarker\"\n// import 'leaflet.animatedmarker/src/AnimatedMarker'\nlet UavIcon = L.Icon.extend({\n    options: {\n        iconSize: [48, 48],\n        shadowSize: [0, 0],\n        iconAnchor: [24, 24],\n    }\n});\nlet uavIcon = new UavIcon({\n    iconUrl: '/leaflet/uav48.svg'\n})\n// let newLatlngs = [routeLine.getLatLngs()[0]]\n// let uavmar=null\nexport default {\n    name: \"missionStart\",\n    props: [\"lineInfo\", \"map\"],\n    data() {\n        return {\n            // 全局地图\n            mapLeaf: null,\n            // 测试数据\n            data: null,\n            animate: [],\n        }\n    },\n    computed: {\n        ...mapState(['leafletMap', 'uavPlanningRoutes', 'leafletLine'])\n    },\n\n    methods: {\n        animate2() {\n            const mapLeaf = this.leafletMap\n            console.log(this.uavPlanningRoutes.originLine)\n            let uav0 = this.uavPlanningRoutes.originLine[0]\n            for (let i = 0; i < uav0.length; i++) {\n                delete uav0[i].id\n            }\n            this.data = uav0[0]\n            console.log(uav0)\n            // console.log(this.leafletLine.getLatLngs())\n            for (let i = 0; i < this.uavPlanningRoutes.originLine.length; i++) {\n                this.animate[i] = L.animatedMarker(this.uavPlanningRoutes.originLine[i], {\n                    icon: uavIcon,\n                    interval: 3000,\n                    zIndexOffset: 1\n                }).addTo(mapLeaf)\n                console.log(i)\n                let string = \"无人机 \" + i + \" 的路线\"\n                this.animate[i].bindTooltip(string).openTooltip()\n            }\n            // this.animate=L.animatedMarker(uav0,{icon:uavIcon,interval:3000}).addTo(mapLeaf)\n        },\n        animateTraj() {\n            this.$emit(\"animateMarkers\")\n            // let marker = new Array(this.lineInfo.pathline.length)\n            // for (let i = 0; i < this.lineInfo.pathline.length; i++) {\n            //     // let flyingSpeed = [];\n            //     let flyingSpeed = new Array(this.lineInfo.pathline[i].length)\n            //     for (let j = 0; j < this.lineInfo.pathline[i].length; j++) {\n            //         flyingSpeed[j] = 1000;\n            //     }\n            //     marker[i] = L.Marker.movingMarker(this.lineInfo.pathline[i], flyingSpeed).addTo(this.map);\n            //     marker[i].bindPopup(\"无人机<b>\" + i + \"</b>的路线\").openPopup()\n            // }\n            // for (let uavIndex = 0; uavIndex < marker.length; uavIndex++) {\n            //     marker[uavIndex].start()\n            // }\n        },\n        positions() {}\n    },\n    // updateRealLine(latlng){\n    //   // newLatlngs.push(latlng)\n    //   // realRouteLine.setLatLngs(newLatlngs)\n    // },\n    //  改变方向\n    // }\n}\n</script>\n\n<style scoped>\n#mission-group {\n    position: absolute;\n    z-index: 1;\n    right: 5%;\n    bottom: 25px;\n}\n</style>\n"],"mappings":";;;;;;;;AAQA,IAAAA,KAAA,GAAAC,OAAA;AAGA,IAAAC,QAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEAA,OAAA;;;;;;;;;AADA;;AAEA;AACA,IAAAG,OAAA,GAAAC,gBAAA,CAAAC,IAAA,CAAAC,MAAA;EACAC,OAAA;IACAC,QAAA;IACAC,UAAA;IACAC,UAAA;EACA;AACA;AACA,IAAAC,OAAA,OAAAR,OAAA;EACAS,OAAA;AACA;AACA;AACA;AAAA,IAAAC,QAAA,GACA;EACAC,IAAA;EACAC,KAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACA;MACAC,OAAA;MACA;MACAD,IAAA;MACAE,OAAA;IACA;EACA;EACAC,QAAA,MAAAC,cAAA,CAAAC,OAAA,MACA,IAAAC,cAAA,sDACA;EAEAC,OAAA;IACAC,QAAA,WAAAA,SAAA;MACA,IAAAP,OAAA,QAAAQ,UAAA;MACAC,OAAA,CAAAC,GAAA,MAAAC,iBAAA,CAAAC,UAAA;MACA,IAAAC,IAAA,QAAAF,iBAAA,CAAAC,UAAA;MACA,SAAAE,CAAA,MAAAA,CAAA,GAAAD,IAAA,CAAAE,MAAA,EAAAD,CAAA;QACA,OAAAD,IAAA,CAAAC,CAAA,EAAAE,EAAA;MACA;MACA,KAAAjB,IAAA,GAAAc,IAAA;MACAJ,OAAA,CAAAC,GAAA,CAAAG,IAAA;MACA;MACA,SAAAC,EAAA,MAAAA,EAAA,QAAAH,iBAAA,CAAAC,UAAA,CAAAG,MAAA,EAAAD,EAAA;QACA,KAAAb,OAAA,CAAAa,EAAA,IAAA3B,gBAAA,CAAA8B,cAAA,MAAAN,iBAAA,CAAAC,UAAA,CAAAE,EAAA;UACAI,IAAA,EAAAxB,OAAA;UACAyB,QAAA;UACAC,YAAA;QACA,GAAAC,KAAA,CAAArB,OAAA;QACAS,OAAA,CAAAC,GAAA,CAAAI,EAAA;QACA,IAAAQ,MAAA,YAAAR,EAAA;QACA,KAAAb,OAAA,CAAAa,EAAA,EAAAS,WAAA,CAAAD,MAAA,EAAAE,WAAA;MACA;MACA;IACA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC,SAAA,WAAAA,UAAA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACA;AAAAC,OAAA,CAAAxB,OAAA,GAAAR,QAAA"}]}