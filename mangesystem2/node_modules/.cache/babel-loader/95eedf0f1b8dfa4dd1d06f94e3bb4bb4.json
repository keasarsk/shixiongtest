{"remainingRequest":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/babel-loader/lib/index.js!/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/components/Notice/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/components/Notice/index.vue","mtime":1677684504067},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/babel.config.js","mtime":1677684502367},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/cache-loader/dist/cjs.js","mtime":1677684502691},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/babel-loader/lib/index.js","mtime":1677684502627},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/cache-loader/dist/cjs.js","mtime":1677684502691},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/vue-loader/lib/index.js","mtime":1677684503939}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9zaGFva2FpL3NoaXhpb25nUHJvamVjdC9zaGl4aW9uZ3Rlc3QvbWFuZ2VzeXN0ZW0yL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwp2YXIgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9zaGFva2FpL3NoaXhpb25nUHJvamVjdC9zaGl4aW9uZ3Rlc3QvbWFuZ2VzeXN0ZW0yL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiKSk7CnZhciBfbm90aWNlID0gcmVxdWlyZSgiQC9hcGkvc3lzdGVtL25vdGljZSIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhZ1R5cGU6ICJpbmZvIiwKICAgICAgbm90aWNlTGlzdDogW10sCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgbm90aWNlVGl0bGU6IHVuZGVmaW5lZCwKICAgICAgICBjcmVhdGVCeTogdW5kZWZpbmVkLAogICAgICAgIHN0YXR1czogdW5kZWZpbmVkCiAgICAgIH0sCiAgICAgIHNpemVPcHRpb25zOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzaXplOiBmdW5jdGlvbiBzaXplKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5zaXplOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqIOafpeivouWFrOWRiuWIl+ihqCAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICgwLCBfbm90aWNlLmxpc3ROb3RpY2UpKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIF9pdGVyYXRvciA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkocmVzcG9uc2Uucm93cyksCiAgICAgICAgICBfc3RlcDsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgdmFyIHR5cGVWbyA9IF90aGlzLmdldFR5cGUoaXRlbS5ub3RpY2VUeXBlKTsKICAgICAgICAgICAgdmFyIHR5cGUgPSB0eXBlVm8uc3BsaXQoIjoiKVswXTsKICAgICAgICAgICAgdmFyIG5hbWUgPSB0eXBlVm8uc3BsaXQoIjoiKVsxXTsKICAgICAgICAgICAgX3RoaXMubm90aWNlTGlzdC5wdXNoKHsKICAgICAgICAgICAgICBrZXk6IGl0ZW0ubm90aWNlSWQsCiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0ubm90aWNlVGl0bGUsCiAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFR5cGU6IGZ1bmN0aW9uIGdldFR5cGUobm90aWNlVHlwZSkgewogICAgICAvLyDmoLnmja5ub3RpY2VUeXBl6L+U5Zue5LiN5ZCM55qE5qCH562+CiAgICAgIGlmIChub3RpY2VUeXBlID09IDMpIHsKICAgICAgICByZXR1cm4gImluZm865L+h5oGvIjsKICAgICAgfSBlbHNlIGlmIChub3RpY2VUeXBlID09IDIpIHsKICAgICAgICByZXR1cm4gInN1Y2Nlc3M65YWs5ZGKIjsKICAgICAgfSBlbHNlIGlmIChub3RpY2VUeXBlID09IDEpIHsKICAgICAgICByZXR1cm4gIndhcm5pbmc66YCa55+lIjsKICAgICAgfSBlbHNlIGlmIChub3RpY2VUeXBlID09IDQpIHsKICAgICAgICByZXR1cm4gImRhbmdlcjrntKfmgKUiOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlTm90aWNlOiBmdW5jdGlvbiBoYW5kbGVOb3RpY2UoKSB7CiAgICAgIHRoaXMucmVmcmVzaFZpZXcoKTsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogJ+i3s+i9rOmAmuefpemhtemdouaIkOWKnycsCiAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgIH0pOwogICAgfSwKICAgIHJlZnJlc2hWaWV3OiBmdW5jdGlvbiByZWZyZXNoVmlldygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIC8vIEluIG9yZGVyIHRvIG1ha2UgdGhlIGNhY2hlZCBwYWdlIHJlLXJlbmRlcmVkCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxBbGxDYWNoZWRWaWV3cycsIHRoaXMuJHJvdXRlKTsKICAgICAgdmFyIGZ1bGxQYXRoID0gdGhpcy4kcm91dGUuZnVsbFBhdGg7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICcvc3lzdGVtL25vdGljZScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"names":["_notice","require","data","tagType","noticeList","queryParams","pageNum","pageSize","noticeTitle","undefined","createBy","status","sizeOptions","created","getList","computed","size","$store","getters","methods","_this","listNotice","then","response","_iterator","_createForOfIteratorHelper2","default","rows","_step","s","n","done","item","value","typeVo","getType","noticeType","type","split","name","push","key","noticeId","err","e","f","handleNotice","refreshView","$message","message","_this2","dispatch","$route","fullPath","$nextTick","$router","path","exports","_default"],"sources":["src/components/Notice/index.vue"],"sourcesContent":["<template>\n    <el-dropdown trigger=\"click\" @command=\"handleNotice\">\n        <div>\n            <svg-icon class-name=\"size-icon\" icon-class=\"notice\" />\n        </div>\n        <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item v-for=\"item of noticeList\" :key=\"item.value\" :command=\"item.value\">\n                <el-tag :type=\"item.type\" size=\"small\">{{ item.name }}</el-tag> {{ item.value }} </el-dropdown-item>\n        </el-dropdown-menu>\n    </el-dropdown>\n</template>\n\n<script>\nimport { listNotice } from \"@/api/system/notice\";\nexport default {\n    data() {\n        return {\n            tagType: \"info\",\n            noticeList: [],\n            queryParams: {\n                pageNum: 1,\n                pageSize: 10,\n                noticeTitle: undefined,\n                createBy: undefined,\n                status: undefined\n            },\n            sizeOptions: [\n            ]\n        }\n    },\n    created() {\n        this.getList();\n    },\n    computed: {\n        size() {\n            return this.$store.getters.size\n        }\n    },\n    methods: {\n        /** 查询公告列表 */\n        getList() {\n            listNotice(this.queryParams).then(response => {\n                for (let item of response.rows) {\n                    let typeVo = this.getType(item.noticeType)\n                    let type = typeVo.split(\":\")[0]\n                    let name = typeVo.split(\":\")[1]\n                    this.noticeList.push({\n                        key: item.noticeId,\n                        value: item.noticeTitle,\n                        type: type,\n                        name: name\n                    })\n                }\n            });\n        },\n        getType(noticeType) {\n            // 根据noticeType返回不同的标签\n            if (noticeType == 3) {\n                return \"info:信息\"\n            } else if (noticeType == 2) {\n                return \"success:公告\"\n            } else if (noticeType == 1) {\n                return \"warning:通知\"\n            } else if (noticeType == 4) {\n                return \"danger:紧急\"\n            }\n\n\n        },\n        handleNotice() {\n            this.refreshView()\n            this.$message({\n                message: '跳转通知页面成功',\n                type: 'success'\n            })\n        },\n        refreshView() {\n            // In order to make the cached page re-rendered\n            this.$store.dispatch('tagsView/delAllCachedViews', this.$route)\n\n            const { fullPath } = this.$route\n\n            this.$nextTick(() => {\n                this.$router.push({\n                    path: '/system/notice'\n                })\n            })\n        }\n    }\n\n}\n</script>\n<style scoped>\n.item {\n    margin-top: 10px;\n}\n</style>\n"],"mappings":";;;;;;;;;AAaA,IAAAA,OAAA,GAAAC,OAAA;;;;;;;;;;;;;eACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,OAAA;MACAC,UAAA;MACAC,WAAA;QACAC,OAAA;QACAC,QAAA;QACAC,WAAA,EAAAC,SAAA;QACAC,QAAA,EAAAD,SAAA;QACAE,MAAA,EAAAF;MACA;MACAG,WAAA;IAEA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,QAAA;IACAC,IAAA,WAAAA,KAAA;MACA,YAAAC,MAAA,CAAAC,OAAA,CAAAF,IAAA;IACA;EACA;EACAG,OAAA;IACA,aACAL,OAAA,WAAAA,QAAA;MAAA,IAAAM,KAAA;MACA,IAAAC,kBAAA,OAAAhB,WAAA,EAAAiB,IAAA,WAAAC,QAAA;QAAA,IAAAC,SAAA,OAAAC,2BAAA,CAAAC,OAAA,EACAH,QAAA,CAAAI,IAAA;UAAAC,KAAA;QAAA;UAAA,KAAAJ,SAAA,CAAAK,CAAA,MAAAD,KAAA,GAAAJ,SAAA,CAAAM,CAAA,IAAAC,IAAA;YAAA,IAAAC,IAAA,GAAAJ,KAAA,CAAAK,KAAA;YACA,IAAAC,MAAA,GAAAd,KAAA,CAAAe,OAAA,CAAAH,IAAA,CAAAI,UAAA;YACA,IAAAC,IAAA,GAAAH,MAAA,CAAAI,KAAA;YACA,IAAAC,IAAA,GAAAL,MAAA,CAAAI,KAAA;YACAlB,KAAA,CAAAhB,UAAA,CAAAoC,IAAA;cACAC,GAAA,EAAAT,IAAA,CAAAU,QAAA;cACAT,KAAA,EAAAD,IAAA,CAAAxB,WAAA;cACA6B,IAAA,EAAAA,IAAA;cACAE,IAAA,EAAAA;YACA;UACA;QAAA,SAAAI,GAAA;UAAAnB,SAAA,CAAAoB,CAAA,CAAAD,GAAA;QAAA;UAAAnB,SAAA,CAAAqB,CAAA;QAAA;MACA;IACA;IACAV,OAAA,WAAAA,QAAAC,UAAA;MACA;MACA,IAAAA,UAAA;QACA;MACA,WAAAA,UAAA;QACA;MACA,WAAAA,UAAA;QACA;MACA,WAAAA,UAAA;QACA;MACA;IAGA;IACAU,YAAA,WAAAA,aAAA;MACA,KAAAC,WAAA;MACA,KAAAC,QAAA;QACAC,OAAA;QACAZ,IAAA;MACA;IACA;IACAU,WAAA,WAAAA,YAAA;MAAA,IAAAG,MAAA;MACA;MACA,KAAAjC,MAAA,CAAAkC,QAAA,oCAAAC,MAAA;MAEA,IAAAC,QAAA,QAAAD,MAAA,CAAAC,QAAA;MAEA,KAAAC,SAAA;QACAJ,MAAA,CAAAK,OAAA,CAAAf,IAAA;UACAgB,IAAA;QACA;MACA;IACA;EACA;AAEA;AAAAC,OAAA,CAAA/B,OAAA,GAAAgC,QAAA"}]}