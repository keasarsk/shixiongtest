{"remainingRequest":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/babel-loader/lib/index.js!/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/eslint-loader/index.js??ref--13-0!/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/plugins/AnimatedMarker.js","dependencies":[{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/plugins/AnimatedMarker.js","mtime":1677684504071},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/babel.config.js","mtime":1677684502367},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/cache-loader/dist/cjs.js","mtime":1677684502691},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/babel-loader/lib/index.js","mtime":1677684502627},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/eslint-loader/index.js","mtime":1677684503219}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9zaGFva2FpL3NoaXhpb25nUHJvamVjdC9zaGl4aW9uZ3Rlc3QvbWFuZ2VzeXN0ZW0yL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyIpOwp2YXIgX2xlYWZsZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImxlYWZsZXQiKSk7Cl9sZWFmbGV0LmRlZmF1bHQuQW5pbWF0ZWRNYXJrZXIgPSBfbGVhZmxldC5kZWZhdWx0Lk1hcmtlci5leHRlbmQoewogIG9wdGlvbnM6IHsKICAgIC8vIG1ldGVycwogICAgZGlzdGFuY2U6IDIwMCwKICAgIC8vIG1zCiAgICBpbnRlcnZhbDogMTAwMCwKICAgIC8vIGFuaW1hdGUgb24gYWRkPwogICAgYXV0b1N0YXJ0OiB0cnVlLAogICAgLy8gY2FsbGJhY2sgb25lbmQKICAgIG9uRW5kOiBmdW5jdGlvbiBvbkVuZCgpIHt9LAogICAgY2xpY2thYmxlOiBmYWxzZQogIH0sCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShsYXRsbmdzLCBvcHRpb25zKSB7CiAgICB0aGlzLnNldExpbmUobGF0bG5ncyk7CiAgICBfbGVhZmxldC5kZWZhdWx0Lk1hcmtlci5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIGxhdGxuZ3NbMF0sIG9wdGlvbnMpOwogIH0sCiAgLy8gQnJlYWtzIHRoZSBsaW5lIHVwIGludG8gdGlueSBjaHVua3MgKHNlZSBvcHRpb25zKSBPTkxZIGlmIENTUzMgYW5pbWF0aW9ucwogIC8vIGFyZSBub3Qgc3VwcG9ydGVkLgogIF9jaHVuazogZnVuY3Rpb24gX2NodW5rKGxhdGxuZ3MpIHsKICAgIHZhciBpLAogICAgICBsZW4gPSBsYXRsbmdzLmxlbmd0aCwKICAgICAgY2h1bmtlZExhdExuZ3MgPSBbXTsKICAgIGZvciAoaSA9IDE7IGkgPCBsZW47IGkrKykgewogICAgICB2YXIgY3VyID0gbGF0bG5nc1tpIC0gMV0sCiAgICAgICAgbmV4dCA9IGxhdGxuZ3NbaV0sCiAgICAgICAgZGlzdCA9IGN1ci5kaXN0YW5jZVRvKG5leHQpLAogICAgICAgIGZhY3RvciA9IHRoaXMub3B0aW9ucy5kaXN0YW5jZSAvIGRpc3QsCiAgICAgICAgZExhdCA9IGZhY3RvciAqIChuZXh0LmxhdCAtIGN1ci5sYXQpLAogICAgICAgIGRMbmcgPSBmYWN0b3IgKiAobmV4dC5sbmcgLSBjdXIubG5nKTsKICAgICAgaWYgKGRpc3QgPiB0aGlzLm9wdGlvbnMuZGlzdGFuY2UpIHsKICAgICAgICB3aGlsZSAoZGlzdCA+IHRoaXMub3B0aW9ucy5kaXN0YW5jZSkgewogICAgICAgICAgY3VyID0gbmV3IF9sZWFmbGV0LmRlZmF1bHQuTGF0TG5nKGN1ci5sYXQgKyBkTGF0LCBjdXIubG5nICsgZExuZyk7CiAgICAgICAgICBkaXN0ID0gY3VyLmRpc3RhbmNlVG8obmV4dCk7CiAgICAgICAgICBjaHVua2VkTGF0TG5ncy5wdXNoKGN1cik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNodW5rZWRMYXRMbmdzLnB1c2goY3VyKTsKICAgICAgfQogICAgfQogICAgY2h1bmtlZExhdExuZ3MucHVzaChsYXRsbmdzW2xlbiAtIDFdKTsKICAgIHJldHVybiBjaHVua2VkTGF0TG5nczsKICB9LAogIG9uQWRkOiBmdW5jdGlvbiBvbkFkZChtYXApIHsKICAgIF9sZWFmbGV0LmRlZmF1bHQuTWFya2VyLnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIG1hcCk7CgogICAgLy8gU3RhcnQgYW5pbWF0aW5nIHdoZW4gYWRkZWQgdG8gdGhlIG1hcAogICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvU3RhcnQpIHsKICAgICAgdGhpcy5zdGFydCgpOwogICAgfQogIH0sCiAgYW5pbWF0ZTogZnVuY3Rpb24gYW5pbWF0ZSgpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgbGVuID0gdGhpcy5fbGF0bG5ncy5sZW5ndGgsCiAgICAgIHNwZWVkID0gdGhpcy5vcHRpb25zLmludGVydmFsOwoKICAgIC8vIE5vcm1hbGl6ZSB0aGUgdHJhbnNpdGlvbiBzcGVlZCBmcm9tIHZlcnRleCB0byB2ZXJ0ZXgKICAgIGlmICh0aGlzLl9pIDwgbGVuICYmIHRoaXMuX2kgPiAwKSB7CiAgICAgIHNwZWVkID0gdGhpcy5fbGF0bG5nc1t0aGlzLl9pIC0gMV0uZGlzdGFuY2VUbyh0aGlzLl9sYXRsbmdzW3RoaXMuX2ldKSAvIHRoaXMub3B0aW9ucy5kaXN0YW5jZSAqIHRoaXMub3B0aW9ucy5pbnRlcnZhbDsKICAgIH0KCiAgICAvLyBPbmx5IGlmIENTUzMgdHJhbnNpdGlvbnMgYXJlIHN1cHBvcnRlZAogICAgaWYgKF9sZWFmbGV0LmRlZmF1bHQuRG9tVXRpbC5UUkFOU0lUSU9OKSB7CiAgICAgIGlmICh0aGlzLl9pY29uKSB7CiAgICAgICAgdGhpcy5faWNvbi5zdHlsZVtfbGVhZmxldC5kZWZhdWx0LkRvbVV0aWwuVFJBTlNJVElPTl0gPSAnYWxsICcgKyBzcGVlZCArICdtcyBsaW5lYXInOwogICAgICB9CiAgICAgIGlmICh0aGlzLl9zaGFkb3cpIHsKICAgICAgICB0aGlzLl9zaGFkb3cuc3R5bGVbX2xlYWZsZXQuZGVmYXVsdC5Eb21VdGlsLlRSQU5TSVRJT05dID0gJ2FsbCAnICsgc3BlZWQgKyAnbXMgbGluZWFyJzsKICAgICAgfQogICAgfQoKICAgIC8vIE1vdmUgdG8gdGhlIG5leHQgdmVydGV4CiAgICB0aGlzLnNldExhdExuZyh0aGlzLl9sYXRsbmdzW3RoaXMuX2ldKTsKICAgIHRoaXMuX2krKzsKCiAgICAvLyBRdWV1ZSB1cCB0aGUgYW5pbWF0aW9uIHRvIHRoZSBuZXh0IG5leHQgdmVydGV4CiAgICB0aGlzLl90aWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHNlbGYuX2kgPT09IGxlbikgewogICAgICAgIHNlbGYub3B0aW9ucy5vbkVuZC5hcHBseShzZWxmLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxmLmFuaW1hdGUoKTsKICAgICAgfQogICAgfSwgc3BlZWQpOwogIH0sCiAgLy8gU3RhcnQgdGhlIGFuaW1hdGlvbgogIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgIHRoaXMuYW5pbWF0ZSgpOwogIH0sCiAgLy8gU3RvcCB0aGUgYW5pbWF0aW9uIGluIHBsYWNlCiAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgIGlmICh0aGlzLl90aWQpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpZCk7CiAgICB9CiAgfSwKICBzZXRMaW5lOiBmdW5jdGlvbiBzZXRMaW5lKGxhdGxuZ3MpIHsKICAgIGlmIChfbGVhZmxldC5kZWZhdWx0LkRvbVV0aWwuVFJBTlNJVElPTikgewogICAgICAvLyBObyBuZWVkIHRvIHRvIGNoZWNrIHVwIHRoZSBsaW5lIGlmIHdlIGNhbiBhbmltYXRlIHVzaW5nIENTUzMKICAgICAgdGhpcy5fbGF0bG5ncyA9IGxhdGxuZ3M7CiAgICB9IGVsc2UgewogICAgICAvLyBDaHVuayB1cCB0aGUgbGluZXMgaW50byBvcHRpb25zLmRpc3RhbmNlIGJpdHMKICAgICAgdGhpcy5fbGF0bG5ncyA9IHRoaXMuX2NodW5rKGxhdGxuZ3MpOwogICAgICB0aGlzLm9wdGlvbnMuZGlzdGFuY2UgPSAxMDsKICAgICAgdGhpcy5vcHRpb25zLmludGVydmFsID0gMzA7CiAgICB9CiAgICB0aGlzLl9pID0gMDsKICB9Cn0pOwpfbGVhZmxldC5kZWZhdWx0LmFuaW1hdGVkTWFya2VyID0gZnVuY3Rpb24gKGxhdGxuZ3MsIG9wdGlvbnMpIHsKICByZXR1cm4gbmV3IF9sZWFmbGV0LmRlZmF1bHQuQW5pbWF0ZWRNYXJrZXIobGF0bG5ncywgb3B0aW9ucyk7Cn07"},{"version":3,"names":["_leaflet","_interopRequireDefault","require","L","AnimatedMarker","Marker","extend","options","distance","interval","autoStart","onEnd","clickable","initialize","latlngs","setLine","prototype","call","_chunk","i","len","length","chunkedLatLngs","cur","next","dist","distanceTo","factor","dLat","lat","dLng","lng","LatLng","push","onAdd","map","start","animate","self","_latlngs","speed","_i","DomUtil","TRANSITION","_icon","style","_shadow","setLatLng","_tid","setTimeout","apply","Array","slice","arguments","stop","clearTimeout","animatedMarker"],"sources":["/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/plugins/AnimatedMarker.js"],"sourcesContent":["import L from \"leaflet\"\nL.AnimatedMarker = L.Marker.extend({\n    options: {\n        // meters\n        distance: 200,\n        // ms\n        interval: 1000,\n        // animate on add?\n        autoStart: true,\n        // callback onend\n        onEnd: function(){},\n        clickable: false\n    },\n\n    initialize: function (latlngs, options) {\n        this.setLine(latlngs);\n        L.Marker.prototype.initialize.call(this, latlngs[0], options);\n    },\n\n    // Breaks the line up into tiny chunks (see options) ONLY if CSS3 animations\n    // are not supported.\n    _chunk: function(latlngs) {\n        var i,\n            len = latlngs.length,\n            chunkedLatLngs = [];\n\n        for (i=1;i<len;i++) {\n            var cur = latlngs[i-1],\n                next = latlngs[i],\n                dist = cur.distanceTo(next),\n                factor = this.options.distance / dist,\n                dLat = factor * (next.lat - cur.lat),\n                dLng = factor * (next.lng - cur.lng);\n\n            if (dist > this.options.distance) {\n                while (dist > this.options.distance) {\n                    cur = new L.LatLng(cur.lat + dLat, cur.lng + dLng);\n                    dist = cur.distanceTo(next);\n                    chunkedLatLngs.push(cur);\n                }\n            } else {\n                chunkedLatLngs.push(cur);\n            }\n        }\n        chunkedLatLngs.push(latlngs[len-1]);\n\n        return chunkedLatLngs;\n    },\n\n    onAdd: function (map) {\n        L.Marker.prototype.onAdd.call(this, map);\n\n        // Start animating when added to the map\n        if (this.options.autoStart) {\n            this.start();\n        }\n    },\n\n    animate: function() {\n        var self = this,\n            len = this._latlngs.length,\n            speed = this.options.interval;\n\n        // Normalize the transition speed from vertex to vertex\n        if (this._i < len && this._i > 0) {\n            speed = this._latlngs[this._i-1].distanceTo(this._latlngs[this._i]) / this.options.distance * this.options.interval;\n        }\n\n        // Only if CSS3 transitions are supported\n        if (L.DomUtil.TRANSITION) {\n            if (this._icon) { this._icon.style[L.DomUtil.TRANSITION] = ('all ' + speed + 'ms linear'); }\n            if (this._shadow) { this._shadow.style[L.DomUtil.TRANSITION] = 'all ' + speed + 'ms linear'; }\n        }\n\n        // Move to the next vertex\n        this.setLatLng(this._latlngs[this._i]);\n        this._i++;\n\n        // Queue up the animation to the next next vertex\n        this._tid = setTimeout(function(){\n            if (self._i === len) {\n                self.options.onEnd.apply(self, Array.prototype.slice.call(arguments));\n            } else {\n                self.animate();\n            }\n        }, speed);\n    },\n\n    // Start the animation\n    start: function() {\n        this.animate();\n    },\n\n    // Stop the animation in place\n    stop: function() {\n        if (this._tid) {\n            clearTimeout(this._tid);\n        }\n    },\n\n    setLine: function(latlngs){\n        if (L.DomUtil.TRANSITION) {\n            // No need to to check up the line if we can animate using CSS3\n            this._latlngs = latlngs;\n        } else {\n            // Chunk up the lines into options.distance bits\n            this._latlngs = this._chunk(latlngs);\n            this.options.distance = 10;\n            this.options.interval = 30;\n        }\n        this._i = 0;\n    }\n\n});\n\nL.animatedMarker = function (latlngs, options) {\n    return new L.AnimatedMarker(latlngs, options);\n};\n"],"mappings":";;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACAC,gBAAC,CAACC,cAAc,GAAGD,gBAAC,CAACE,MAAM,CAACC,MAAM,CAAC;EAC/BC,OAAO,EAAE;IACL;IACAC,QAAQ,EAAE,GAAG;IACb;IACAC,QAAQ,EAAE,IAAI;IACd;IACAC,SAAS,EAAE,IAAI;IACf;IACAC,KAAK,EAAE,SAAAA,MAAA,EAAU,CAAC,CAAC;IACnBC,SAAS,EAAE;EACf,CAAC;EAEDC,UAAU,EAAE,SAAAA,WAAUC,OAAO,EAAEP,OAAO,EAAE;IACpC,IAAI,CAACQ,OAAO,CAACD,OAAO,CAAC;IACrBX,gBAAC,CAACE,MAAM,CAACW,SAAS,CAACH,UAAU,CAACI,IAAI,CAAC,IAAI,EAAEH,OAAO,CAAC,CAAC,CAAC,EAAEP,OAAO,CAAC;EACjE,CAAC;EAED;EACA;EACAW,MAAM,EAAE,SAAAA,OAASJ,OAAO,EAAE;IACtB,IAAIK,CAAC;MACDC,GAAG,GAAGN,OAAO,CAACO,MAAM;MACpBC,cAAc,GAAG,EAAE;IAEvB,KAAKH,CAAC,GAAC,CAAC,EAACA,CAAC,GAACC,GAAG,EAACD,CAAC,EAAE,EAAE;MAChB,IAAII,GAAG,GAAGT,OAAO,CAACK,CAAC,GAAC,CAAC,CAAC;QAClBK,IAAI,GAAGV,OAAO,CAACK,CAAC,CAAC;QACjBM,IAAI,GAAGF,GAAG,CAACG,UAAU,CAACF,IAAI,CAAC;QAC3BG,MAAM,GAAG,IAAI,CAACpB,OAAO,CAACC,QAAQ,GAAGiB,IAAI;QACrCG,IAAI,GAAGD,MAAM,IAAIH,IAAI,CAACK,GAAG,GAAGN,GAAG,CAACM,GAAG,CAAC;QACpCC,IAAI,GAAGH,MAAM,IAAIH,IAAI,CAACO,GAAG,GAAGR,GAAG,CAACQ,GAAG,CAAC;MAExC,IAAIN,IAAI,GAAG,IAAI,CAAClB,OAAO,CAACC,QAAQ,EAAE;QAC9B,OAAOiB,IAAI,GAAG,IAAI,CAAClB,OAAO,CAACC,QAAQ,EAAE;UACjCe,GAAG,GAAG,IAAIpB,gBAAC,CAAC6B,MAAM,CAACT,GAAG,CAACM,GAAG,GAAGD,IAAI,EAAEL,GAAG,CAACQ,GAAG,GAAGD,IAAI,CAAC;UAClDL,IAAI,GAAGF,GAAG,CAACG,UAAU,CAACF,IAAI,CAAC;UAC3BF,cAAc,CAACW,IAAI,CAACV,GAAG,CAAC;QAC5B;MACJ,CAAC,MAAM;QACHD,cAAc,CAACW,IAAI,CAACV,GAAG,CAAC;MAC5B;IACJ;IACAD,cAAc,CAACW,IAAI,CAACnB,OAAO,CAACM,GAAG,GAAC,CAAC,CAAC,CAAC;IAEnC,OAAOE,cAAc;EACzB,CAAC;EAEDY,KAAK,EAAE,SAAAA,MAAUC,GAAG,EAAE;IAClBhC,gBAAC,CAACE,MAAM,CAACW,SAAS,CAACkB,KAAK,CAACjB,IAAI,CAAC,IAAI,EAAEkB,GAAG,CAAC;;IAExC;IACA,IAAI,IAAI,CAAC5B,OAAO,CAACG,SAAS,EAAE;MACxB,IAAI,CAAC0B,KAAK,EAAE;IAChB;EACJ,CAAC;EAEDC,OAAO,EAAE,SAAAA,QAAA,EAAW;IAChB,IAAIC,IAAI,GAAG,IAAI;MACXlB,GAAG,GAAG,IAAI,CAACmB,QAAQ,CAAClB,MAAM;MAC1BmB,KAAK,GAAG,IAAI,CAACjC,OAAO,CAACE,QAAQ;;IAEjC;IACA,IAAI,IAAI,CAACgC,EAAE,GAAGrB,GAAG,IAAI,IAAI,CAACqB,EAAE,GAAG,CAAC,EAAE;MAC9BD,KAAK,GAAG,IAAI,CAACD,QAAQ,CAAC,IAAI,CAACE,EAAE,GAAC,CAAC,CAAC,CAACf,UAAU,CAAC,IAAI,CAACa,QAAQ,CAAC,IAAI,CAACE,EAAE,CAAC,CAAC,GAAG,IAAI,CAAClC,OAAO,CAACC,QAAQ,GAAG,IAAI,CAACD,OAAO,CAACE,QAAQ;IACvH;;IAEA;IACA,IAAIN,gBAAC,CAACuC,OAAO,CAACC,UAAU,EAAE;MACtB,IAAI,IAAI,CAACC,KAAK,EAAE;QAAE,IAAI,CAACA,KAAK,CAACC,KAAK,CAAC1C,gBAAC,CAACuC,OAAO,CAACC,UAAU,CAAC,GAAI,MAAM,GAAGH,KAAK,GAAG,WAAY;MAAE;MAC3F,IAAI,IAAI,CAACM,OAAO,EAAE;QAAE,IAAI,CAACA,OAAO,CAACD,KAAK,CAAC1C,gBAAC,CAACuC,OAAO,CAACC,UAAU,CAAC,GAAG,MAAM,GAAGH,KAAK,GAAG,WAAW;MAAE;IACjG;;IAEA;IACA,IAAI,CAACO,SAAS,CAAC,IAAI,CAACR,QAAQ,CAAC,IAAI,CAACE,EAAE,CAAC,CAAC;IACtC,IAAI,CAACA,EAAE,EAAE;;IAET;IACA,IAAI,CAACO,IAAI,GAAGC,UAAU,CAAC,YAAU;MAC7B,IAAIX,IAAI,CAACG,EAAE,KAAKrB,GAAG,EAAE;QACjBkB,IAAI,CAAC/B,OAAO,CAACI,KAAK,CAACuC,KAAK,CAACZ,IAAI,EAAEa,KAAK,CAACnC,SAAS,CAACoC,KAAK,CAACnC,IAAI,CAACoC,SAAS,CAAC,CAAC;MACzE,CAAC,MAAM;QACHf,IAAI,CAACD,OAAO,EAAE;MAClB;IACJ,CAAC,EAAEG,KAAK,CAAC;EACb,CAAC;EAED;EACAJ,KAAK,EAAE,SAAAA,MAAA,EAAW;IACd,IAAI,CAACC,OAAO,EAAE;EAClB,CAAC;EAED;EACAiB,IAAI,EAAE,SAAAA,KAAA,EAAW;IACb,IAAI,IAAI,CAACN,IAAI,EAAE;MACXO,YAAY,CAAC,IAAI,CAACP,IAAI,CAAC;IAC3B;EACJ,CAAC;EAEDjC,OAAO,EAAE,SAAAA,QAASD,OAAO,EAAC;IACtB,IAAIX,gBAAC,CAACuC,OAAO,CAACC,UAAU,EAAE;MACtB;MACA,IAAI,CAACJ,QAAQ,GAAGzB,OAAO;IAC3B,CAAC,MAAM;MACH;MACA,IAAI,CAACyB,QAAQ,GAAG,IAAI,CAACrB,MAAM,CAACJ,OAAO,CAAC;MACpC,IAAI,CAACP,OAAO,CAACC,QAAQ,GAAG,EAAE;MAC1B,IAAI,CAACD,OAAO,CAACE,QAAQ,GAAG,EAAE;IAC9B;IACA,IAAI,CAACgC,EAAE,GAAG,CAAC;EACf;AAEJ,CAAC,CAAC;AAEFtC,gBAAC,CAACqD,cAAc,GAAG,UAAU1C,OAAO,EAAEP,OAAO,EAAE;EAC3C,OAAO,IAAIJ,gBAAC,CAACC,cAAc,CAACU,OAAO,EAAEP,OAAO,CAAC;AACjD,CAAC"}]}