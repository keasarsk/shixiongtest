{"remainingRequest":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/display/components/Logs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/display/components/Logs.vue","mtime":1677658014632},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFQ2hhcnRzIGZyb20gJy4vRUNoYXJ0cycKLy8gaW1wb3J0ICogYXMgIGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CgovLyDor7fmsYLml6DkurrmnLrlkI7nq68KLy8gaW1wb3J0IHtyZXF1ZXN0fSBmcm9tICcuLi8uLi8uLi9uZXR3b3JrL25ldFJlcXVlc3QnCi8vIGltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gJ3FzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAvLyBlbDogJyNwaWUnLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhdDogJycsCiAgICAgIGxvbjogMCwKICAgICAgaGlnaDogMCwKICAgICAgc3RhdGU6ICdhcm1pbmcnLAogICAgICAvLyBiYXR0ZXJ5OiAwLAogICAgICAvLyBzcGVlZDogMCwKICAgICAgc2l6ZTogewogICAgICAgIHdpZHRoOiAnMTAwJScsCiAgICAgICAgaGVpZ2h0OiAnNy41cmVtJywKICAgICAgfSwKICAgICAgc2l6ZTI6IHsKICAgICAgICB3aWR0aDogJzEwMCUnLAogICAgICAgIGhlaWdodDogJzNyZW0nCiAgICAgIH0sCiAgICAgIHNpemViYXR0ZXJ5OiB7CiAgICAgICAgd2lkdGg6ICcxMDAlJywKICAgICAgICBoZWlnaHQ6ICcwMS4zcmVtJwogICAgICAgIC8vIGhlaWdodDogJzUwJScKICAgICAgfSwKICAgICAgY29uZmlnOiB7CiAgICAgICAgdmFsdWU6IDEwMCwKICAgICAgICBsb2NhbEdyYWRpZW50OiB0cnVlCiAgICAgIH0sCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIHR5cGU6ICdnYXVnZScsCiAgICAgICAgICAgICAgLy8g6L+b5bqm6JOd6Imy5Y2K5ZyICiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHsKICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAvLyDnmb3ljYrlnIgKICAgICAgICAgICAgICBheGlzTGluZTogewogICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGF4aXNUaWNrOiB7CiAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgICAgICAgbGVuZ3RoOiA1LAogICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzk5OScKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgLy8g5Luq6KGo55uY5LiA5ZyI5pWw5a2XCiAgICAgICAgICAgICAgYXhpc0xhYmVsOiB7CiAgICAgICAgICAgICAgICAgIGRpc3RhbmNlOiA1LAogICAgICAgICAgICAgICAgICBjb2xvcjogJyM5OTknLAogICAgICAgICAgICAgICAgICBmb250U2l6ZTogMAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgLy8g5oyH6ZKICiAgICAgICAgICAgICAgYW5jaG9yOiB7CiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgIHNob3dBYm92ZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgc2l6ZTogMTAsCiAgICAgICAgICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB0aXRsZTogewogICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgLy8g5a6e6ZmF5pWw5a2XCiAgICAgICAgICAgICAgZGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgIHZhbHVlQW5pbWF0aW9uOiB0cnVlLAogICAgICAgICAgICAgICAgICBmb250U2l6ZTogMzAsCiAgICAgICAgICAgICAgICAgIG9mZnNldENlbnRlcjogWzAsICc3MCUnXSwKICAgICAgICAgICAgICAgICAgY29sb3I6ICcjOTk5JwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZGF0YTogWwogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiA5MAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB3ZWJzb2NrOiBudWxsLAogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgRUNoYXJ0cywKICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIHRoaXMuaW5pdFdlYlNvY2tldCgpOwogICAgLy8gfSwyMDAwMCkKICAgIAogIH0sCiAgZGVzdHJveWVkKCkgewogICAgdGhpcy53ZWJzb2NrLmNsb3NlKCkgLy/nprvlvIDot6/nlLHkuYvlkI7mlq3lvIB3ZWJzb2NrZXTov57mjqUKICB9LAoKICBtZXRob2RzOiB7CiAgICBpbml0V2ViU29ja2V0KCl7IC8v5Yid5aeL5YyWd2Vvc29ja2V0CiAgICAgIGNvbnN0IHdzdXJpID0gIndzOi8vMTI3LjAuMC4xOjgwMDAvMS93c3Rlc3QiOwogICAgICB0aGlzLndlYnNvY2sgPSBuZXcgV2ViU29ja2V0KHdzdXJpKTsKCiAgICAgIHRoaXMud2Vic29jay5vbm1lc3NhZ2UgPSB0aGlzLndlYnNvY2tldG9ubWVzc2FnZTsKICAgICAgLy8gdGhpcy53ZWJzb2NrLm9ub3BlbiA9IHRoaXMud2Vic29ja2V0b25vcGVuOwogICAgICB0aGlzLndlYnNvY2sub25lcnJvciA9IHRoaXMud2Vic29ja2V0b25lcnJvcjsKICAgICAgdGhpcy53ZWJzb2NrLm9uY2xvc2UgPSB0aGlzLndlYnNvY2tldGNsb3NlOwogICAgfSwKICAgIC8vIHdlYnNvY2tldG9ub3BlbigpeyAvL+i/nuaOpeW7uueri+S5i+WQjuaJp+ihjHNlbmTmlrnms5Xlj5HpgIHmlbDmja4KICAgIC8vICAgbGV0IGFjdGlvbnMgPSB7InRlc3QiOiIxMjM0NSJ9OwogICAgLy8gICB0aGlzLndlYnNvY2tldHNlbmQoSlNPTi5zdHJpbmdpZnkoYWN0aW9ucykpOwogICAgLy8gfSwKICAgIHdlYnNvY2tldG9uZXJyb3IoKXsvL+i/nuaOpeW7uueri+Wksei0pemHjei/ngogICAgICB0aGlzLmluaXRXZWJTb2NrZXQoKTsKICAgIH0sCiAgICB3ZWJzb2NrZXRvbm1lc3NhZ2UoZSl7IC8v5pWw5o2u5o6l5pS2CiAgICAgIGNvbnN0IHJlZGF0YSA9IEpTT04ucGFyc2UoZS5kYXRhKTsKICAgICAgLy8g55S15rGgCiAgICAgIHRoaXMuY29uZmlnLnZhbHVlID0gcGFyc2VJbnQocmVkYXRhWyJiYXQiXS5yZW1haW5pbmdfcGVyY2VudCoxMDApCiAgICAgIGNvbnNvbGUubG9nKCJ0aGlzLmNvbmZpZy52YWx1ZSIsdGhpcy5jb25maWcudmFsdWUpOwogICAgICB0aGlzLmNvbmZpZyA9IHsgLi4udGhpcy5jb25maWd9CgogICAgICAvLyDpo57pgJ8KICAgICAgdGhpcy5vcHRpb25zLnNlcmllc1swXS5kYXRhWzBdLnZhbHVlID0gcGFyc2VJbnQocmVkYXRhWyJiYXQiXS5yZW1haW5pbmdfcGVyY2VudCoxMDApCiAgICAgIAogICAgICAvLyBzZXRJbnRlcnZhbCgoKT0+ewogICAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLnRoaXMub3B0aW9ucyB9CiAgICAgIC8vIH0sMjAwMCkKICAgICAgLy8gbGF0CiAgICAgIHRoaXMubGF0ID0gcmVkYXRhWyJwb3MiXS5sYXRpdHVkZV9kZWcKICAgICAgdGhpcy5sb24gPSByZWRhdGFbInBvcyJdLmxvbmdpdHVkZV9kZWcKICAgICAgdGhpcy5oZWlnaHQgPSByZWRhdGFbInBvcyJdLnJlbGF0aXZlX2FsdGl0dWRlX20KICAgICAgLy8gdGhpcy5zdGF0ZSA9IHJlZGF0YVsiYmF0Il0uc3RhdGUKICAgIH0sCiAgICAvLyB3ZWJzb2NrZXRzZW5kKERhdGEpey8v5pWw5o2u5Y+R6YCBCiAgICAvLyAgIHRoaXMud2Vic29jay5zZW5kKERhdGEpOwogICAgLy8gfSwKICAgIHdlYnNvY2tldGNsb3NlKGUpeyAgLy/lhbPpl60KICAgICAgY29uc29sZS5sb2coJ+aWreW8gOi/nuaOpScsZSk7CiAgICB9LAoKICB9LAogIC8vICAgd2F0Y2g6IHsKICAvLyAgIC8vIOebkeWQrG9wdGlvbnPmlLnlj5jvvIzph43mlrDnlJ/miJDlm77ooagKICAvLyAgIG9wdGlvbnM6IGZ1bmN0aW9uICgpIHsKICAvLyAgICAgdGhpcy5teUNoYXJ0LnNldE9wdGlvbih0aGlzLm9wdGlvbnMpCiAgLy8gICB9CiAgLy8gfQp9Cg=="},{"version":3,"sources":["Logs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Logs.vue","sourceRoot":"src/views/display/components","sourcesContent":["<template>\n  <div id=\"pie\" :style=\"size\">\n    <!-- 上边框 -->\n    <div class=\"dragRectTop\"></div>\n\n    <!-- <e-charts :size=\"size\" :options=\"options\" /> -->\n\n    设备横列表\n    <!-- <hr>\n    经度,,纬度 -->\n    <div class=\"rectangle\">\n      经度 {{lat}}\n    </div>\n    <div class=\"rectangle\">\n      纬度 {{lon}}\n    </div>\n    <!-- <hr>\n    高度 -->\n     <div class=\"rectangle\">\n      高度 {{high}}\n    </div>\n    <!-- <hr> -->\n    <div class=\"rectangle\">\n      状态  {{state}}\n    </div>\n    <!-- 状态 -->\n    <!-- <hr> -->\n    <div class=\"speedandbattery\" :style=\"size2\">\n      <div class=\"left\">\n        飞速\n        <e-charts :size=\"size2\" :options=\"options\" />\n      </div>\n      <div class=\"right\">\n        电池\n        <dv-percent-pond :style=\"sizebattery\" :config=\"config\" />\n      </div>\n\n    </div>\n    \n    \n    <!-- <hr> -->\n\n    <!-- 下边框 -->\n    <div class=\"dragRectBottom\"></div>\n\n  </div>\n</template>\n\n<script>\nimport ECharts from './ECharts'\n// import * as  echarts from 'echarts';\n\n// 请求无人机后端\n// import {request} from '../../../network/netRequest'\n// import { stringify } from 'qs';\n\nexport default {\n  // el: '#pie',\n  data: function () {\n    return {\n      lat: '',\n      lon: 0,\n      high: 0,\n      state: 'arming',\n      // battery: 0,\n      // speed: 0,\n      size: {\n        width: '100%',\n        height: '7.5rem',\n      },\n      size2: {\n        width: '100%',\n        height: '3rem'\n      },\n      sizebattery: {\n        width: '100%',\n        height: '01.3rem'\n        // height: '50%'\n      },\n      config: {\n        value: 100,\n        localGradient: true\n      },\n      options: {\n        series: [\n            {\n              type: 'gauge',\n              // 进度蓝色半圈\n              progress: {\n                  show: true,\n                  width: 10\n              },\n              // 白半圈\n              axisLine: {\n                  lineStyle: {\n                  width: 10\n                  }\n              },\n              axisTick: {\n                  show: false\n              },\n              splitLine: {\n                  length: 5,\n                  lineStyle: {\n                  width: 0,\n                  color: '#999'\n                  }\n              },\n              // 仪表盘一圈数字\n              axisLabel: {\n                  distance: 5,\n                  color: '#999',\n                  fontSize: 0\n              },\n              // 指针\n              anchor: {\n                  show: true,\n                  showAbove: true,\n                  size: 10,\n                  itemStyle: {\n                  borderWidth: 2\n                  }\n              },\n              title: {\n                  show: false\n              },\n              // 实际数字\n              detail: {\n                  valueAnimation: true,\n                  fontSize: 30,\n                  offsetCenter: [0, '70%'],\n                  color: '#999'\n              },\n              data: [\n                  {\n                  value: 90\n                  }\n              ]\n            }\n        ]\n      },\n      websock: null,\n    }\n  },\n  components: {\n    ECharts,\n  },\n  created() {\n    // setInterval(() => {\n      this.initWebSocket();\n    // },20000)\n    \n  },\n  destroyed() {\n    this.websock.close() //离开路由之后断开websocket连接\n  },\n\n  methods: {\n    initWebSocket(){ //初始化weosocket\n      const wsuri = \"ws://127.0.0.1:8000/1/wstest\";\n      this.websock = new WebSocket(wsuri);\n\n      this.websock.onmessage = this.websocketonmessage;\n      // this.websock.onopen = this.websocketonopen;\n      this.websock.onerror = this.websocketonerror;\n      this.websock.onclose = this.websocketclose;\n    },\n    // websocketonopen(){ //连接建立之后执行send方法发送数据\n    //   let actions = {\"test\":\"12345\"};\n    //   this.websocketsend(JSON.stringify(actions));\n    // },\n    websocketonerror(){//连接建立失败重连\n      this.initWebSocket();\n    },\n    websocketonmessage(e){ //数据接收\n      const redata = JSON.parse(e.data);\n      // 电池\n      this.config.value = parseInt(redata[\"bat\"].remaining_percent*100)\n      console.log(\"this.config.value\",this.config.value);\n      this.config = { ...this.config}\n\n      // 飞速\n      this.options.series[0].data[0].value = parseInt(redata[\"bat\"].remaining_percent*100)\n      \n      // setInterval(()=>{\n      this.options = { ...this.options }\n      // },2000)\n      // lat\n      this.lat = redata[\"pos\"].latitude_deg\n      this.lon = redata[\"pos\"].longitude_deg\n      this.height = redata[\"pos\"].relative_altitude_m\n      // this.state = redata[\"bat\"].state\n    },\n    // websocketsend(Data){//数据发送\n    //   this.websock.send(Data);\n    // },\n    websocketclose(e){  //关闭\n      console.log('断开连接',e);\n    },\n\n  },\n  //   watch: {\n  //   // 监听options改变，重新生成图表\n  //   options: function () {\n  //     this.myChart.setOption(this.options)\n  //   }\n  // }\n}\n</script>\n\n<style scoped>\n\n#pie{\n\t/* background-image: url(../assets/line.png); */\n  border: 0.5px solid rgba(255,255,255,0.2);\n  background: rgba(255, 255, 255, 0.1);\n  position: relative;\n}\n.speedandbattery{\n  /* flex: 1; */\n  width: 100%;\n  padding: 0.15rem;\n  display: flex;\n  /* background-color: brown; */\n  /* position: relative;\n  left: 3%; */\n\n  \n}\n.speedandbattery .left{\n  flex: 0.5;\n  background-color: rgb(63, 65, 179);\n  border-radius: 6px;\n  padding-top: 2%;\n  margin-right: 1%;\n  text-align: center;\n}\n.speedandbattery .right{\n  flex: 0.5;\n  background-color: rgb(63, 65, 179);\n\n  margin-left: 1%;\n  /* padding-top: 2%; */\n  border-radius: 6px;\n  text-align: center;\n\n}\n.rectangle{\n  display: flex;\n  flex-direction: column;\n  width: 94%;\n  /* display: flex; */\n  flex-wrap: wrap;\n  justify-content: space-around;\n  background-color: rgb(63, 65, 179);\n  position: relative;\n  left: 3%;\n  border-radius: 6px;\n  padding-left: 5%;\n  margin-top: 5px;\n  /* width: 32%; */\n  height: 13%;\n  /* .dv-dig-flop {\n    width: 150px;\n    height: 30px;\n  } */\n  \n}\n/* .rectangle  */\n\n\n.dragRectTop{\n    width: 100%;\n    height: 10px;\n    position: absolute;\n    top: 0;\n    left: 0\n}\n\n.dragRectTop::before{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid skyblue;\n    border-top: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.dragRectTop::after{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-right: 2px solid skyblue;\n    border-top: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.dragRectBottom{\n    width: 100%;\n    height: 10px;\n    position: absolute;\n    bottom: 0;\n    left: 0\n}\n\n.dragRectBottom::before{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid skyblue;\n    border-bottom: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n}\n\n.dragRectBottom::after{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-right: 2px solid skyblue;\n    border-bottom: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n}\n</style>"]}]}