{"remainingRequest":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/uav/uavmap/missionStart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/uav/uavmap/missionStart.vue","mtime":1677655434007},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBtYXBTdGF0ZQp9IGZyb20gInZ1ZXgiOwppbXBvcnQgTCBmcm9tICdsZWFmbGV0JwovLyDlr7zlhaVtYXJrZXLliqjnlLvmj5Lku7YKaW1wb3J0ICJAL3BsdWdpbnMvQW5pbWF0ZWRNYXJrZXIiCi8vIGltcG9ydCAnbGVhZmxldC5hbmltYXRlZG1hcmtlci9zcmMvQW5pbWF0ZWRNYXJrZXInCmxldCBVYXZJY29uID0gTC5JY29uLmV4dGVuZCh7CiAgICBvcHRpb25zOiB7CiAgICAgICAgaWNvblNpemU6IFs0OCwgNDhdLAogICAgICAgIHNoYWRvd1NpemU6IFswLCAwXSwKICAgICAgICBpY29uQW5jaG9yOiBbMjQsIDI0XSwKICAgIH0KfSk7CmxldCB1YXZJY29uID0gbmV3IFVhdkljb24oewogICAgaWNvblVybDogJy9sZWFmbGV0L3VhdjQ4LnN2ZycKfSkKLy8gbGV0IG5ld0xhdGxuZ3MgPSBbcm91dGVMaW5lLmdldExhdExuZ3MoKVswXV0KLy8gbGV0IHVhdm1hcj1udWxsCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJtaXNzaW9uU3RhcnQiLAogICAgcHJvcHM6IFsibGluZUluZm8iLCAibWFwIl0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIOWFqOWxgOWcsOWbvgogICAgICAgICAgICBtYXBMZWFmOiBudWxsLAogICAgICAgICAgICAvLyDmtYvor5XmlbDmja4KICAgICAgICAgICAgZGF0YTogbnVsbCwKICAgICAgICAgICAgYW5pbWF0ZTogW10sCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoWydsZWFmbGV0TWFwJywgJ3VhdlBsYW5uaW5nUm91dGVzJywgJ2xlYWZsZXRMaW5lJ10pCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBhbmltYXRlMigpIHsKICAgICAgICAgICAgY29uc3QgbWFwTGVhZiA9IHRoaXMubGVhZmxldE1hcAogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVhdlBsYW5uaW5nUm91dGVzLm9yaWdpbkxpbmUpCiAgICAgICAgICAgIGxldCB1YXYwID0gdGhpcy51YXZQbGFubmluZ1JvdXRlcy5vcmlnaW5MaW5lWzBdCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdWF2MC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgZGVsZXRlIHVhdjBbaV0uaWQKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmRhdGEgPSB1YXYwWzBdCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHVhdjApCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGVhZmxldExpbmUuZ2V0TGF0TG5ncygpKQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudWF2UGxhbm5pbmdSb3V0ZXMub3JpZ2luTGluZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlW2ldID0gTC5hbmltYXRlZE1hcmtlcih0aGlzLnVhdlBsYW5uaW5nUm91dGVzLm9yaWdpbkxpbmVbaV0sIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiB1YXZJY29uLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsOiAzMDAwLAogICAgICAgICAgICAgICAgICAgIHpJbmRleE9mZnNldDogMQogICAgICAgICAgICAgICAgfSkuYWRkVG8obWFwTGVhZikKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGkpCiAgICAgICAgICAgICAgICBsZXQgc3RyaW5nID0gIuaXoOS6uuacuiAiICsgaSArICIg55qE6Lev57q/IgogICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlW2ldLmJpbmRUb29sdGlwKHN0cmluZykub3BlblRvb2x0aXAoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIHRoaXMuYW5pbWF0ZT1MLmFuaW1hdGVkTWFya2VyKHVhdjAse2ljb246dWF2SWNvbixpbnRlcnZhbDozMDAwfSkuYWRkVG8obWFwTGVhZikKICAgICAgICB9LAogICAgICAgIGFuaW1hdGVUcmFqKCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJhbmltYXRlTWFya2VycyIpCiAgICAgICAgICAgIC8vIGxldCBtYXJrZXIgPSBuZXcgQXJyYXkodGhpcy5saW5lSW5mby5wYXRobGluZS5sZW5ndGgpCiAgICAgICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5lSW5mby5wYXRobGluZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAvLyAgICAgLy8gbGV0IGZseWluZ1NwZWVkID0gW107CiAgICAgICAgICAgIC8vICAgICBsZXQgZmx5aW5nU3BlZWQgPSBuZXcgQXJyYXkodGhpcy5saW5lSW5mby5wYXRobGluZVtpXS5sZW5ndGgpCiAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubGluZUluZm8ucGF0aGxpbmVbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgLy8gICAgICAgICBmbHlpbmdTcGVlZFtqXSA9IDEwMDA7CiAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgIC8vICAgICBtYXJrZXJbaV0gPSBMLk1hcmtlci5tb3ZpbmdNYXJrZXIodGhpcy5saW5lSW5mby5wYXRobGluZVtpXSwgZmx5aW5nU3BlZWQpLmFkZFRvKHRoaXMubWFwKTsKICAgICAgICAgICAgLy8gICAgIG1hcmtlcltpXS5iaW5kUG9wdXAoIuaXoOS6uuacujxiPiIgKyBpICsgIjwvYj7nmoTot6/nur8iKS5vcGVuUG9wdXAoKQogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vIGZvciAobGV0IHVhdkluZGV4ID0gMDsgdWF2SW5kZXggPCBtYXJrZXIubGVuZ3RoOyB1YXZJbmRleCsrKSB7CiAgICAgICAgICAgIC8vICAgICBtYXJrZXJbdWF2SW5kZXhdLnN0YXJ0KCkKICAgICAgICAgICAgLy8gfQogICAgICAgIH0sCiAgICAgICAgcG9zaXRpb25zKCkge30KICAgIH0sCiAgICAvLyB1cGRhdGVSZWFsTGluZShsYXRsbmcpewogICAgLy8gICAvLyBuZXdMYXRsbmdzLnB1c2gobGF0bG5nKQogICAgLy8gICAvLyByZWFsUm91dGVMaW5lLnNldExhdExuZ3MobmV3TGF0bG5ncykKICAgIC8vIH0sCiAgICAvLyAg5pS55Y+Y5pa55ZCRCiAgICAvLyB9Cn0K"},{"version":3,"sources":["missionStart.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"missionStart.vue","sourceRoot":"src/views/uav/uavmap","sourcesContent":["<template>\n<div id=\"mission-group\">\n    <el-button type=\"success\" @click=\"animateTraj\">路线演示</el-button>\n    <el-button type=\"primary\" @click=\"positions\">+</el-button>\n</div>\n</template>\n\n<script>\nimport {\n    mapState\n} from \"vuex\";\nimport L from 'leaflet'\n// 导入marker动画插件\nimport \"@/plugins/AnimatedMarker\"\n// import 'leaflet.animatedmarker/src/AnimatedMarker'\nlet UavIcon = L.Icon.extend({\n    options: {\n        iconSize: [48, 48],\n        shadowSize: [0, 0],\n        iconAnchor: [24, 24],\n    }\n});\nlet uavIcon = new UavIcon({\n    iconUrl: '/leaflet/uav48.svg'\n})\n// let newLatlngs = [routeLine.getLatLngs()[0]]\n// let uavmar=null\nexport default {\n    name: \"missionStart\",\n    props: [\"lineInfo\", \"map\"],\n    data() {\n        return {\n            // 全局地图\n            mapLeaf: null,\n            // 测试数据\n            data: null,\n            animate: [],\n        }\n    },\n    computed: {\n        ...mapState(['leafletMap', 'uavPlanningRoutes', 'leafletLine'])\n    },\n\n    methods: {\n        animate2() {\n            const mapLeaf = this.leafletMap\n            console.log(this.uavPlanningRoutes.originLine)\n            let uav0 = this.uavPlanningRoutes.originLine[0]\n            for (let i = 0; i < uav0.length; i++) {\n                delete uav0[i].id\n            }\n            this.data = uav0[0]\n            console.log(uav0)\n            // console.log(this.leafletLine.getLatLngs())\n            for (let i = 0; i < this.uavPlanningRoutes.originLine.length; i++) {\n                this.animate[i] = L.animatedMarker(this.uavPlanningRoutes.originLine[i], {\n                    icon: uavIcon,\n                    interval: 3000,\n                    zIndexOffset: 1\n                }).addTo(mapLeaf)\n                console.log(i)\n                let string = \"无人机 \" + i + \" 的路线\"\n                this.animate[i].bindTooltip(string).openTooltip()\n            }\n            // this.animate=L.animatedMarker(uav0,{icon:uavIcon,interval:3000}).addTo(mapLeaf)\n        },\n        animateTraj() {\n            this.$emit(\"animateMarkers\")\n            // let marker = new Array(this.lineInfo.pathline.length)\n            // for (let i = 0; i < this.lineInfo.pathline.length; i++) {\n            //     // let flyingSpeed = [];\n            //     let flyingSpeed = new Array(this.lineInfo.pathline[i].length)\n            //     for (let j = 0; j < this.lineInfo.pathline[i].length; j++) {\n            //         flyingSpeed[j] = 1000;\n            //     }\n            //     marker[i] = L.Marker.movingMarker(this.lineInfo.pathline[i], flyingSpeed).addTo(this.map);\n            //     marker[i].bindPopup(\"无人机<b>\" + i + \"</b>的路线\").openPopup()\n            // }\n            // for (let uavIndex = 0; uavIndex < marker.length; uavIndex++) {\n            //     marker[uavIndex].start()\n            // }\n        },\n        positions() {}\n    },\n    // updateRealLine(latlng){\n    //   // newLatlngs.push(latlng)\n    //   // realRouteLine.setLatLngs(newLatlngs)\n    // },\n    //  改变方向\n    // }\n}\n</script>\n\n<style scoped>\n#mission-group {\n    position: absolute;\n    z-index: 1;\n    right: 5%;\n    bottom: 25px;\n}\n</style>\n"]}]}