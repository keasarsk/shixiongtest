{"remainingRequest":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/components/Notice/index.vue?vue&type=style&index=0&id=6ff69cea&scoped=true&lang=css&","dependencies":[{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/components/Notice/index.vue","mtime":1677684504067},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/css-loader/dist/cjs.js","mtime":1677684502867},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1677684503939},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/postcss-loader/src/index.js","mtime":1677684503599},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/cache-loader/dist/cjs.js","mtime":1677684502691},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/vue-loader/lib/index.js","mtime":1677684503939}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLml0ZW0gewogICAgbWFyZ2luLXRvcDogMTBweDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Notice","sourcesContent":["<template>\n    <el-dropdown trigger=\"click\" @command=\"handleNotice\">\n        <div>\n            <svg-icon class-name=\"size-icon\" icon-class=\"notice\" />\n        </div>\n        <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item v-for=\"item of noticeList\" :key=\"item.value\" :command=\"item.value\">\n                <el-tag :type=\"item.type\" size=\"small\">{{ item.name }}</el-tag> {{ item.value }} </el-dropdown-item>\n        </el-dropdown-menu>\n    </el-dropdown>\n</template>\n\n<script>\nimport { listNotice } from \"@/api/system/notice\";\nexport default {\n    data() {\n        return {\n            tagType: \"info\",\n            noticeList: [],\n            queryParams: {\n                pageNum: 1,\n                pageSize: 10,\n                noticeTitle: undefined,\n                createBy: undefined,\n                status: undefined\n            },\n            sizeOptions: [\n            ]\n        }\n    },\n    created() {\n        this.getList();\n    },\n    computed: {\n        size() {\n            return this.$store.getters.size\n        }\n    },\n    methods: {\n        /** 查询公告列表 */\n        getList() {\n            listNotice(this.queryParams).then(response => {\n                for (let item of response.rows) {\n                    let typeVo = this.getType(item.noticeType)\n                    let type = typeVo.split(\":\")[0]\n                    let name = typeVo.split(\":\")[1]\n                    this.noticeList.push({\n                        key: item.noticeId,\n                        value: item.noticeTitle,\n                        type: type,\n                        name: name\n                    })\n                }\n            });\n        },\n        getType(noticeType) {\n            // 根据noticeType返回不同的标签\n            if (noticeType == 3) {\n                return \"info:信息\"\n            } else if (noticeType == 2) {\n                return \"success:公告\"\n            } else if (noticeType == 1) {\n                return \"warning:通知\"\n            } else if (noticeType == 4) {\n                return \"danger:紧急\"\n            }\n\n\n        },\n        handleNotice() {\n            this.refreshView()\n            this.$message({\n                message: '跳转通知页面成功',\n                type: 'success'\n            })\n        },\n        refreshView() {\n            // In order to make the cached page re-rendered\n            this.$store.dispatch('tagsView/delAllCachedViews', this.$route)\n\n            const { fullPath } = this.$route\n\n            this.$nextTick(() => {\n                this.$router.push({\n                    path: '/system/notice'\n                })\n            })\n        }\n    }\n\n}\n</script>\n<style scoped>\n.item {\n    margin-top: 10px;\n}\n</style>\n"]}]}