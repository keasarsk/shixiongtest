{"remainingRequest":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/views/display/components/Logs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/src/views/display/components/Logs.vue","mtime":1677719759524},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/cache-loader/dist/cjs.js","mtime":1677684502691},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/babel-loader/lib/index.js","mtime":1677684502627},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/cache-loader/dist/cjs.js","mtime":1677684502691},{"path":"/home/shaokai/shixiongProject/shixiongtest/mangesystem2/node_modules/vue-loader/lib/index.js","mtime":1677684503939}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFQ2hhcnRzIGZyb20gJy4vRUNoYXJ0cycKaW1wb3J0IFNlbGVjdEZvckluZm8gZnJvbSAnLi9TZWxlY3RGb3JJbmZvLnZ1ZSc7Ci8vIGltcG9ydCAqIGFzICBlY2hhcnRzIGZyb20gJ2VjaGFydHMnOwoKLy8g6K+35rGC5peg5Lq65py65ZCO56uvCi8vIGltcG9ydCB7cmVxdWVzdH0gZnJvbSAnLi4vLi4vLi4vbmV0d29yay9uZXRSZXF1ZXN0JwovLyBpbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tICdxcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgLy8gZWw6ICcjcGllJywKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBsYXQ6ICcnLAogICAgICBsb246IDAsCiAgICAgIGhpZ2g6IDAsCiAgICAgIHN0YXRlOiAnYXJtaW5nJywKICAgICAgLy8gYmF0dGVyeTogMCwKICAgICAgLy8gc3BlZWQ6IDAsCiAgICAgIHNpemU6IHsKICAgICAgICB3aWR0aDogJzEwMCUnLAogICAgICAgIGhlaWdodDogJzdyZW0nLAogICAgICB9LAogICAgICBzaXplMjogewogICAgICAgIHdpZHRoOiAnMTAwJScsCiAgICAgICAgaGVpZ2h0OiAnMi41cmVtJwogICAgICB9LAogICAgICBzaXplYmF0dGVyeTogewogICAgICAgIHdpZHRoOiAnMTAwJScsCiAgICAgICAgLy8gaGVpZ2h0OiAnMXJlbScKICAgICAgICBoZWlnaHQ6ICczMCUnCiAgICAgIH0sCiAgICAgIGNvbmZpZzogewogICAgICAgIHZhbHVlOiAxMDAsCiAgICAgICAgbG9jYWxHcmFkaWVudDogdHJ1ZQogICAgICB9LAogICAgICBvcHRpb25zOiB7CiAgICAgICAgc2VyaWVzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0eXBlOiAnZ2F1Z2UnLAogICAgICAgICAgICAgIC8vIOi/m+W6puiTneiJsuWNiuWciAogICAgICAgICAgICAgIHByb2dyZXNzOiB7CiAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgLy8g55m95Y2K5ZyICiAgICAgICAgICAgICAgYXhpc0xpbmU6IHsKICAgICAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMAogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBheGlzVGljazogewogICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc3BsaXRMaW5lOiB7CiAgICAgICAgICAgICAgICAgIGxlbmd0aDogNSwKICAgICAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgIHdpZHRoOiAwLAogICAgICAgICAgICAgICAgICBjb2xvcjogJyM5OTknCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIC8vIOS7quihqOebmOS4gOWciOaVsOWtlwogICAgICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICAgICAgICBkaXN0YW5jZTogNSwKICAgICAgICAgICAgICAgICAgY29sb3I6ICcjOTk5JywKICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDAKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIC8vIOaMh+mSiAogICAgICAgICAgICAgIGFuY2hvcjogewogICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICAgICAgICBzaG93QWJvdmU6IHRydWUsCiAgICAgICAgICAgICAgICAgIHNpemU6IDEwLAogICAgICAgICAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgdGl0bGU6IHsKICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIC8vIOWunumZheaVsOWtlwogICAgICAgICAgICAgIGRldGFpbDogewogICAgICAgICAgICAgICAgICB2YWx1ZUFuaW1hdGlvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDMwLAogICAgICAgICAgICAgICAgICBvZmZzZXRDZW50ZXI6IFswLCAnNzAlJ10sCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzk5OScKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRhdGE6IFsKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICB2YWx1ZTogOTAKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIF0KICAgICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgd2Vic29jazogbnVsbCwKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEVDaGFydHMsCiAgICBTZWxlY3RGb3JJbmZvCiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzLmluaXRXZWJTb2NrZXQoKTsKICAgIC8vIH0sMjAwMDApCiAgICAKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIHRoaXMud2Vic29jay5jbG9zZSgpIC8v56a75byA6Lev55Sx5LmL5ZCO5pat5byAd2Vic29ja2V06L+e5o6lCiAgfSwKCiAgbWV0aG9kczogewogICAgaW5pdFdlYlNvY2tldCgpeyAvL+WIneWni+WMlndlb3NvY2tldAogICAgICBjb25zdCB3c3VyaSA9ICJ3czovLzEyNy4wLjAuMTo4MDAwLzEvd3N0ZXN0IjsKICAgICAgdGhpcy53ZWJzb2NrID0gbmV3IFdlYlNvY2tldCh3c3VyaSk7CgogICAgICB0aGlzLndlYnNvY2sub25tZXNzYWdlID0gdGhpcy53ZWJzb2NrZXRvbm1lc3NhZ2U7CiAgICAgIC8vIHRoaXMud2Vic29jay5vbm9wZW4gPSB0aGlzLndlYnNvY2tldG9ub3BlbjsKICAgICAgdGhpcy53ZWJzb2NrLm9uZXJyb3IgPSB0aGlzLndlYnNvY2tldG9uZXJyb3I7CiAgICAgIHRoaXMud2Vic29jay5vbmNsb3NlID0gdGhpcy53ZWJzb2NrZXRjbG9zZTsKICAgIH0sCiAgICAvLyB3ZWJzb2NrZXRvbm9wZW4oKXsgLy/ov57mjqXlu7rnq4vkuYvlkI7miafooYxzZW5k5pa55rOV5Y+R6YCB5pWw5o2uCiAgICAvLyAgIGxldCBhY3Rpb25zID0geyJ0ZXN0IjoiMTIzNDUifTsKICAgIC8vICAgdGhpcy53ZWJzb2NrZXRzZW5kKEpTT04uc3RyaW5naWZ5KGFjdGlvbnMpKTsKICAgIC8vIH0sCiAgICB3ZWJzb2NrZXRvbmVycm9yKCl7Ly/ov57mjqXlu7rnq4vlpLHotKXph43ov54KICAgICAgdGhpcy5pbml0V2ViU29ja2V0KCk7CiAgICB9LAogICAgd2Vic29ja2V0b25tZXNzYWdlKGUpeyAvL+aVsOaNruaOpeaUtgogICAgICBjb25zdCByZWRhdGEgPSBKU09OLnBhcnNlKGUuZGF0YSk7CiAgICAgIC8vIOeUteaxoAogICAgICB0aGlzLmNvbmZpZy52YWx1ZSA9IHBhcnNlSW50KHJlZGF0YVsiYmF0Il0ucmVtYWluaW5nX3BlcmNlbnQqMTAwKQogICAgICBjb25zb2xlLmxvZygidGhpcy5jb25maWcudmFsdWUiLHRoaXMuY29uZmlnLnZhbHVlKTsKICAgICAgdGhpcy5jb25maWcgPSB7IC4uLnRoaXMuY29uZmlnfQoKICAgICAgLy8g6aOe6YCfCiAgICAgIHRoaXMub3B0aW9ucy5zZXJpZXNbMF0uZGF0YVswXS52YWx1ZSA9IHBhcnNlSW50KHJlZGF0YVsiYmF0Il0ucmVtYWluaW5nX3BlcmNlbnQqMTAwKQogICAgICAKICAgICAgLy8gc2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgdGhpcy5vcHRpb25zID0geyAuLi50aGlzLm9wdGlvbnMgfQogICAgICAvLyB9LDIwMDApCiAgICAgIC8vIGxhdAogICAgICB0aGlzLmxhdCA9IHJlZGF0YVsicG9zIl0ubGF0aXR1ZGVfZGVnCiAgICAgIHRoaXMubG9uID0gcmVkYXRhWyJwb3MiXS5sb25naXR1ZGVfZGVnCiAgICAgIHRoaXMuaGVpZ2h0ID0gcmVkYXRhWyJwb3MiXS5yZWxhdGl2ZV9hbHRpdHVkZV9tCiAgICAgIC8vIHRoaXMuc3RhdGUgPSByZWRhdGFbImJhdCJdLnN0YXRlCiAgICB9LAogICAgLy8gd2Vic29ja2V0c2VuZChEYXRhKXsvL+aVsOaNruWPkemAgQogICAgLy8gICB0aGlzLndlYnNvY2suc2VuZChEYXRhKTsKICAgIC8vIH0sCiAgICB3ZWJzb2NrZXRjbG9zZShlKXsgIC8v5YWz6ZetCiAgICAgIGNvbnNvbGUubG9nKCfmlq3lvIDov57mjqUnLGUpOwogICAgfSwKCiAgfSwKICAvLyAgIHdhdGNoOiB7CiAgLy8gICAvLyDnm5HlkKxvcHRpb25z5pS55Y+Y77yM6YeN5paw55Sf5oiQ5Zu+6KGoCiAgLy8gICBvcHRpb25zOiBmdW5jdGlvbiAoKSB7CiAgLy8gICAgIHRoaXMubXlDaGFydC5zZXRPcHRpb24odGhpcy5vcHRpb25zKQogIC8vICAgfQogIC8vIH0KfQo="},{"version":3,"sources":["Logs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Logs.vue","sourceRoot":"src/views/display/components","sourcesContent":["<template>\n  <div id=\"pie\" :style=\"size\">\n    <!-- 上边框 -->\n    <div class=\"dragRectTop\"></div>\n\n    <!-- <e-charts :size=\"size\" :options=\"options\" /> -->\n\n    <SelectForInfo></SelectForInfo>\n    <!-- <hr>\n    经度,,纬度 -->\n    <div class=\"rectangle\">\n      经度 {{lat}}\n    </div>\n    <div class=\"rectangle\">\n      纬度 {{lon}}\n    </div>\n    <!-- <hr>\n    高度 -->\n     <div class=\"rectangle\">\n      高度 {{high}}\n    </div>\n    <!-- <hr> -->\n    <div class=\"rectangle\">\n      状态  {{state}}\n    </div>\n    <!-- 状态 -->\n    <!-- <hr> -->\n    <div class=\"speedandbattery\" :style=\"size2\">\n      <div class=\"left\">\n        飞速\n        <e-charts :size=\"size2\" :options=\"options\" />\n      </div>\n      <div class=\"right\">\n        电池\n        <!-- <dv-percent-pond :style=\"sizebattery\" :config=\"config\" /> -->\n      </div>\n\n    </div>\n    \n    \n    <!-- <hr> -->\n\n    <!-- 下边框 -->\n    <div class=\"dragRectBottom\"></div>\n\n  </div>\n</template>\n\n<script>\nimport ECharts from './ECharts'\nimport SelectForInfo from './SelectForInfo.vue';\n// import * as  echarts from 'echarts';\n\n// 请求无人机后端\n// import {request} from '../../../network/netRequest'\n// import { stringify } from 'qs';\n\nexport default {\n  // el: '#pie',\n  data: function () {\n    return {\n      lat: '',\n      lon: 0,\n      high: 0,\n      state: 'arming',\n      // battery: 0,\n      // speed: 0,\n      size: {\n        width: '100%',\n        height: '7rem',\n      },\n      size2: {\n        width: '100%',\n        height: '2.5rem'\n      },\n      sizebattery: {\n        width: '100%',\n        // height: '1rem'\n        height: '30%'\n      },\n      config: {\n        value: 100,\n        localGradient: true\n      },\n      options: {\n        series: [\n            {\n              type: 'gauge',\n              // 进度蓝色半圈\n              progress: {\n                  show: true,\n                  width: 10\n              },\n              // 白半圈\n              axisLine: {\n                  lineStyle: {\n                  width: 10\n                  }\n              },\n              axisTick: {\n                  show: false\n              },\n              splitLine: {\n                  length: 5,\n                  lineStyle: {\n                  width: 0,\n                  color: '#999'\n                  }\n              },\n              // 仪表盘一圈数字\n              axisLabel: {\n                  distance: 5,\n                  color: '#999',\n                  fontSize: 0\n              },\n              // 指针\n              anchor: {\n                  show: true,\n                  showAbove: true,\n                  size: 10,\n                  itemStyle: {\n                  borderWidth: 2\n                  }\n              },\n              title: {\n                  show: false\n              },\n              // 实际数字\n              detail: {\n                  valueAnimation: true,\n                  fontSize: 30,\n                  offsetCenter: [0, '70%'],\n                  color: '#999'\n              },\n              data: [\n                  {\n                  value: 90\n                  }\n              ]\n            }\n        ]\n      },\n      websock: null,\n    }\n  },\n  components: {\n    ECharts,\n    SelectForInfo\n  },\n  created() {\n    // setInterval(() => {\n      this.initWebSocket();\n    // },20000)\n    \n  },\n  destroyed() {\n    this.websock.close() //离开路由之后断开websocket连接\n  },\n\n  methods: {\n    initWebSocket(){ //初始化weosocket\n      const wsuri = \"ws://127.0.0.1:8000/1/wstest\";\n      this.websock = new WebSocket(wsuri);\n\n      this.websock.onmessage = this.websocketonmessage;\n      // this.websock.onopen = this.websocketonopen;\n      this.websock.onerror = this.websocketonerror;\n      this.websock.onclose = this.websocketclose;\n    },\n    // websocketonopen(){ //连接建立之后执行send方法发送数据\n    //   let actions = {\"test\":\"12345\"};\n    //   this.websocketsend(JSON.stringify(actions));\n    // },\n    websocketonerror(){//连接建立失败重连\n      this.initWebSocket();\n    },\n    websocketonmessage(e){ //数据接收\n      const redata = JSON.parse(e.data);\n      // 电池\n      this.config.value = parseInt(redata[\"bat\"].remaining_percent*100)\n      console.log(\"this.config.value\",this.config.value);\n      this.config = { ...this.config}\n\n      // 飞速\n      this.options.series[0].data[0].value = parseInt(redata[\"bat\"].remaining_percent*100)\n      \n      // setInterval(()=>{\n      this.options = { ...this.options }\n      // },2000)\n      // lat\n      this.lat = redata[\"pos\"].latitude_deg\n      this.lon = redata[\"pos\"].longitude_deg\n      this.height = redata[\"pos\"].relative_altitude_m\n      // this.state = redata[\"bat\"].state\n    },\n    // websocketsend(Data){//数据发送\n    //   this.websock.send(Data);\n    // },\n    websocketclose(e){  //关闭\n      console.log('断开连接',e);\n    },\n\n  },\n  //   watch: {\n  //   // 监听options改变，重新生成图表\n  //   options: function () {\n  //     this.myChart.setOption(this.options)\n  //   }\n  // }\n}\n</script>\n\n<style scoped>\n\n#pie{\n\t/* background-image: url(../assets/line.png); */\n  border: 0.5px solid rgba(255,255,255,0.2);\n  background: rgba(255, 255, 255, 0.1);\n  position: relative;\n}\n.speedandbattery{\n  /* flex: 1; */\n  width: 100%;\n  padding: 0.15rem;\n  display: flex;\n  /* background-color: brown; */\n  /* position: relative;\n  left: 3%; */\n\n  \n}\n.speedandbattery .left{\n  flex: 0.5;\n  background-color: rgb(63, 65, 179);\n  border-radius: 6px;\n  padding-top: 2%;\n  margin-right: 1%;\n  text-align: center;\n}\n.speedandbattery .right{\n  flex: 0.5;\n  background-color: rgb(63, 65, 179);\n\n  margin-left: 1%;\n  /* padding-top: 2%; */\n  border-radius: 6px;\n  text-align: center;\n\n}\n.rectangle{\n  display: flex;\n  flex-direction: column;\n  width: 94%;\n  /* display: flex; */\n  flex-wrap: wrap;\n  justify-content: space-around;\n  background-color: rgb(63, 65, 179);\n  position: relative;\n  left: 3%;\n  border-radius: 6px;\n  padding-left: 5%;\n  margin-top: 5px;\n  /* width: 32%; */\n  height: 13%;\n  /* .dv-dig-flop {\n    width: 150px;\n    height: 30px;\n  } */\n  \n}\n/* .rectangle  */\n\n\n.dragRectTop{\n    width: 100%;\n    height: 10px;\n    position: absolute;\n    top: 0;\n    left: 0\n}\n\n.dragRectTop::before{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid skyblue;\n    border-top: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.dragRectTop::after{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-right: 2px solid skyblue;\n    border-top: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n.dragRectBottom{\n    width: 100%;\n    height: 10px;\n    position: absolute;\n    bottom: 0;\n    left: 0\n}\n\n.dragRectBottom::before{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-left: 2px solid skyblue;\n    border-bottom: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n}\n\n.dragRectBottom::after{\n    content: \"\";\n    width: 10px;\n    height: 10px;\n    border-right: 2px solid skyblue;\n    border-bottom: 2px solid skyblue;\n    display: block;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n}\n</style>"]}]}