{"remainingRequest":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/uav/uavmap/missionStart.vue?vue&type=style&index=0&id=2b399d24&scoped=true&lang=css&","dependencies":[{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/src/views/uav/uavmap/missionStart.vue","mtime":1677655434007},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kaesar/Documents/实验室相关/师兄毕设项目前后端/mangesystem/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNtaXNzaW9uLWdyb3VwIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHotaW5kZXg6IDE7CiAgICByaWdodDogNSU7CiAgICBib3R0b206IDI1cHg7Cn0K"},{"version":3,"sources":["missionStart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA","file":"missionStart.vue","sourceRoot":"src/views/uav/uavmap","sourcesContent":["<template>\n<div id=\"mission-group\">\n    <el-button type=\"success\" @click=\"animateTraj\">路线演示</el-button>\n    <el-button type=\"primary\" @click=\"positions\">+</el-button>\n</div>\n</template>\n\n<script>\nimport {\n    mapState\n} from \"vuex\";\nimport L from 'leaflet'\n// 导入marker动画插件\nimport \"@/plugins/AnimatedMarker\"\n// import 'leaflet.animatedmarker/src/AnimatedMarker'\nlet UavIcon = L.Icon.extend({\n    options: {\n        iconSize: [48, 48],\n        shadowSize: [0, 0],\n        iconAnchor: [24, 24],\n    }\n});\nlet uavIcon = new UavIcon({\n    iconUrl: '/leaflet/uav48.svg'\n})\n// let newLatlngs = [routeLine.getLatLngs()[0]]\n// let uavmar=null\nexport default {\n    name: \"missionStart\",\n    props: [\"lineInfo\", \"map\"],\n    data() {\n        return {\n            // 全局地图\n            mapLeaf: null,\n            // 测试数据\n            data: null,\n            animate: [],\n        }\n    },\n    computed: {\n        ...mapState(['leafletMap', 'uavPlanningRoutes', 'leafletLine'])\n    },\n\n    methods: {\n        animate2() {\n            const mapLeaf = this.leafletMap\n            console.log(this.uavPlanningRoutes.originLine)\n            let uav0 = this.uavPlanningRoutes.originLine[0]\n            for (let i = 0; i < uav0.length; i++) {\n                delete uav0[i].id\n            }\n            this.data = uav0[0]\n            console.log(uav0)\n            // console.log(this.leafletLine.getLatLngs())\n            for (let i = 0; i < this.uavPlanningRoutes.originLine.length; i++) {\n                this.animate[i] = L.animatedMarker(this.uavPlanningRoutes.originLine[i], {\n                    icon: uavIcon,\n                    interval: 3000,\n                    zIndexOffset: 1\n                }).addTo(mapLeaf)\n                console.log(i)\n                let string = \"无人机 \" + i + \" 的路线\"\n                this.animate[i].bindTooltip(string).openTooltip()\n            }\n            // this.animate=L.animatedMarker(uav0,{icon:uavIcon,interval:3000}).addTo(mapLeaf)\n        },\n        animateTraj() {\n            this.$emit(\"animateMarkers\")\n            // let marker = new Array(this.lineInfo.pathline.length)\n            // for (let i = 0; i < this.lineInfo.pathline.length; i++) {\n            //     // let flyingSpeed = [];\n            //     let flyingSpeed = new Array(this.lineInfo.pathline[i].length)\n            //     for (let j = 0; j < this.lineInfo.pathline[i].length; j++) {\n            //         flyingSpeed[j] = 1000;\n            //     }\n            //     marker[i] = L.Marker.movingMarker(this.lineInfo.pathline[i], flyingSpeed).addTo(this.map);\n            //     marker[i].bindPopup(\"无人机<b>\" + i + \"</b>的路线\").openPopup()\n            // }\n            // for (let uavIndex = 0; uavIndex < marker.length; uavIndex++) {\n            //     marker[uavIndex].start()\n            // }\n        },\n        positions() {}\n    },\n    // updateRealLine(latlng){\n    //   // newLatlngs.push(latlng)\n    //   // realRouteLine.setLatLngs(newLatlngs)\n    // },\n    //  改变方向\n    // }\n}\n</script>\n\n<style scoped>\n#mission-group {\n    position: absolute;\n    z-index: 1;\n    right: 5%;\n    bottom: 25px;\n}\n</style>\n"]}]}